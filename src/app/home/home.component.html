
<header class="header-ejercicio">
  <div class="left-header">
    <img class="logo-header" src="images/logo-header.jpg" />
    <!-- Agregarle un degradado -->
    <!-- Agregarle un degradado -->
    <!-- Agregarle un degradado -->
    <!-- Agregarle un degradado -->
    <h2 style="font-family: 'Catamaran'; color:#f2e8ff;">Facultad de Ciencias Veterinarias - UNICEN</h2>
  </div>

  <div class="right-header">
    <button
      class='boton-header'
    >
      Link a alguna página
    </button>
    <button
      class='boton-header-seleccionado'
    >
      Link a alguna página
    </button>
    <button
      class='boton-header'
    >
      Link a alguna página
    </button>
  </div>
</header>

<main>
  <div class="wrapper-titulo">
    <h1 class="titulo-home">Aprende Vet</h1>
    <h2 class="subtitulo-home">Aprende medicina veterinaria de forma <span style="color: #ad1261;" >visual</span> e <span style="color: #ad1261;" >interactiva</span></h2>
  </div>
  
  <div class="home-container">
    <h2 style="margin-bottom: 50px; 
    color: #985cff;
    text-shadow: 0px 0px 2px #bf9aff;
    font-size: 2.5rem;">
      
      Explora nuestros ejercicios</h2>
    <div class="card-container">
      <!-- que el hover abra la tarjeta con una explicacion mas detallada a la derecha de la imagen??? -->
      <!-- que el hover abra la tarjeta con una explicacion mas detallada a la derecha de la imagen??? -->
      <!-- que el hover abra la tarjeta con una explicacion mas detallada a la derecha de la imagen??? -->

      <!-- Darle mas contenido, más texto explicando de que se trata la plataforma, etc -->
      <!-- Darle mas contenido, más texto explicando de que se trata la plataforma, etc -->
      <!-- Darle mas contenido, más texto explicando de que se trata la plataforma, etc -->
      <div class="card" (click)="iniciarEjercicio('regulacionGlucosa')">
        <p style="font-size: 1.7rem; font-weight: 600; padding: 0; margin: 5px 0;">Regulación de la Glucemia</p>

        <div class="image-wrapper">
          <img src="images/estados-originales/estado-2.jpg">
        </div>
          
        <p>Explorá los mecanismos que equilibran la glucemia.</p>
      </div>

      <div class="card" (click)="iniciarEjercicio('reflejoFotopupilar')">
        <div class="image-wrapper">
          <img src="images/husky.jpg">
        </div>

        <div>
          <p>Nutrición Animal</p>
          <p>Aprendé sobre macronutrientes y metabolismo.</p>
        </div>
      </div>
    </div>
  <!-- 
    <footer class="footer">Versión 1.0 · AprendeVet</footer> -->
  </div>
</main>


<!-- No estan funcionando los minimos y maximos
No estan funcionando los minimos y maximos
No estan funcionando los minimos y maximos
No estan funcionando los minimos y maximos 

    maxWidth: '450px',
    maxHeight: '525px',-->
<p-dialog
  [visible]="showDialog"
  [modal]="true"
>
  <ng-template pTemplate="headless">
    <div class="form-dialog" [style]="!isLoginDialog ? 'padding-right: 26px; min-height: 650px' : ''">
      <div class="dialog-text-container">
        <img
          style="width: 270px; margin-bottom: 10px;"
          src="images/logo-facultades.webp"
        />
        <span style="color: #d8dcff;" class="dialog-title">{{ isLoginDialog ? 'Login' : 'Registro' }}</span>
        
        @if (isLoginDialog) {
          <div class="form-flex-columm" style="gap: 10px;" [formGroup]="loginForm">
            <label style="font-weight: bold;" for="email">Email</label>
            <div>
              <input (blur)="checkFormFieldValidation('email', true)" class="form-input" id="email" formControlName="email"/>
              
              <div *ngIf="emailLoginError" class="form-error-div">
                <small>
                  El email es requerido y debe ser válido
                </small>
              </div>
            </div>

            <label style="font-weight: bold;" for="password">Contraseña</label>
            <div>
              <input (blur)="checkFormFieldValidation('password', true)" [type]="showPassword ? 'text' : 'password'" class="form-input" id="password" formControlName="password"/>
              <i style="color: #d8dcff; cursor: pointer; margin-left: 10px;" class="pi pi-icon pi-eye" (click)="showPassword = !showPassword"></i>
              
              <div *ngIf="passwordLoginError" class="form-error-div">
                <small>
                  La contraseña es requerida
                </small>
              </div>
            </div>
          </div>
        }
        @else {
          <div class="form-flex-columm" style="gap: 10px;" [formGroup]="registroForm">
            <div style="display: flex; gap: 20px;">
              <div class="form-flex-columm">
                <label class="form-label-registro" for="name">Nombre</label>
                <input (blur)="checkFormFieldValidation('name', false)" class="form-input" id="name" formControlName="name"/>
                
                <div *ngIf="nameError" class="form-error-div">
                  <small>
                    El nombre es requerido
                  </small>
                </div>
              </div>

              <div class="form-flex-columm">
                <label class="form-label-registro" for="surname">Apellido</label>
                <input (blur)="checkFormFieldValidation('surname', false)" class="form-input" id="surname" formControlName="surname"/>
                
                <div *ngIf="surnameError" class="form-error-div">
                  <small>
                    El apellido es requerido
                  </small>
                </div>
              </div>
            </div>

            <div style="display: flex; gap: 20px;">
              <div class="form-flex-columm">
                <label class="form-label-registro" for="DNI">DNI</label>
                <input (blur)="checkFormFieldValidation('DNI', false)" class="form-input" id="DNI" formControlName="DNI"/>
                
                <div *ngIf="DNIError" class="form-error-div">
                  <small>
                    El DNI es requerido y debe ser válido
                  </small>
                </div>
              </div>

              <div class="form-flex-columm">
                <label class="form-label-registro" for="email">Email</label>
                <input (blur)="checkFormFieldValidation('email', false)" class="form-input" id="email" formControlName="email"/>
                
                <div *ngIf="emailRegistroError" class="form-error-div">
                  <small>
                    El email es requerido y debe ser válido
                  </small>
                </div>
              </div>
            </div>
            
            <div style="display: flex; gap: 20px;">
              <div class="form-flex-columm">
                <label class="form-label-registro" for="password">Contraseña</label>
                <input (blur)="checkFormFieldValidation('password', false)" [type]="showPassword ? 'text' : 'password'" class="form-input" id="password" formControlName="password"/>
                
                <div *ngIf="passwordRegistroError" class="form-error-div">
                  <small>
                    La contraseña es requerida y debe contener al menos 6 caracteres
                  </small>
                </div>
              </div>

              <div class="form-flex-columm">
                <label class="form-label-registro" for="rePassword">Repetir Contraseña</label>
                <div>
                  <input (blur)="checkFormFieldValidation('rePassword', false)" [type]="showPassword ? 'text' : 'password'" class="form-input" id="rePassword" formControlName="rePassword"/>
                  <i style="color: #d8dcff; cursor: pointer; margin-left: 10px;" class="pi pi-icon pi-eye" (click)="showPassword = !showPassword"></i>
                </div>
                
                <div *ngIf="rePasswordError" class="form-error-div">
                  <small>
                    La contraseña debe confirmarse y coincidir
                  </small>
                </div>
              </div>
            </div>

            <div class="form-flex-columm">
              <label class="form-label-registro" for="codigoRegistro">Código de Registro</label>
              <input (blur)="checkFormFieldValidation('codigoRegistro', false)" class="form-input" id="codigoRegistro" formControlName="codigoRegistro"/>
              
              <div *ngIf="codigoRegistroError" class="form-error-div">
                <small>
                  El código es requerido
                </small>
              </div>
            </div>

          </div>
        }
      </div>

      <div style="margin: 10px 0;">
        <button
          style="margin-right: 15px"
          [disabled]="isLoginDialog ? loginForm.invalid : registroForm.invalid"
          [class]="isLoginDialog
                    ? loginForm.valid ? 'pre-ejercicio-button fucsia-button' : 'pre-ejercicio-button fucsia-button-disabled'
                    : registroForm.valid ? 'pre-ejercicio-button fucsia-button' : 'pre-ejercicio-button fucsia-button-disabled'"
          (click)="isLoginDialog ? login() : registrar(); showPassword = false;"
        >
          {{ isLoginDialog ? 'Ingresar' : 'Registrarme' }}
        </button>

        <button
          class="pre-ejercicio-button fucsia-button"
          (click)="showDialog = false; showPassword = false;"
        >
          Cerrar
        </button>

      </div>

      @if (isLoginDialog) {
        <span style="color: #5b61ff;">¿No tenes cuenta? <span style="text-decoration: underline; cursor: pointer;" (click)="isLoginDialog = false;">Registrate acá</span></span>
      }
    </div>
  </ng-template>
</p-dialog>

<!-- Mensajes en pantalla -->
<p-toast position="bottom-center" key="bc" />

<!-- Spinner de carga -->
@if(loading){
  <div class="spinner-container">
    <p-progressSpinner
      [style]="{'width': '90px'}"
      strokeWidth="5" 
      animationDuration=".6s"
    ></p-progressSpinner>
  </div>
}

<footer class="footer-ejercicio">
  <img class="logo-footer-veterinarias" src="images/logo-veterinarias-1.png" />
  <img class="logo-footer" src="images/logo-unicen.png" />
</footer>



